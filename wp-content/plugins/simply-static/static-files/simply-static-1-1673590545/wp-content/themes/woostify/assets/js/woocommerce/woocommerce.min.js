"use strict";function woostifyInfiniteScroll(e,o){let t=document.querySelector(".site-main .products"),r=document.querySelector(".woostify-view-more");if(null==t&&(t=document.querySelector(".site-content .products")),null==r||void 0===r)return!1;let n=r.querySelector(".woostify-loading-status"),c=r.getAttribute("data-loading_type"),i=r.querySelector(".w-view-more-button"),a=document.querySelector(".woocommerce-pagination ul.page-numbers"),s={path:o||".next.page-numbers",append:".product.type-product",history:!1,hideNav:".woocommerce-pagination",loadOnScroll:"button"!==c};null==a||void 0===a?"button"===c?r.style.display="none":s.loadOnScroll=!1:"button"===c?(r.style.display="block",i.style.display="inline-flex"):s.loadOnScroll=!0,window.infScroll=new InfiniteScroll(t,s),infScroll.loadCount=0,infScroll.on("request",(function(e,o){"button"===c?i.classList.add("circle-loading"):n.style.display="inline-block"})),infScroll.on("load",(function(e,o,t){let r=e.querySelectorAll(".woocommerce-pagination .page-numbers .page-numbers:not(.next):not(.prev):not(.dots)"),a=!e.querySelectorAll(".woocommerce-pagination .page-numbers .page-numbers.next").length;"button"===c?i.classList.remove("circle-loading"):n.style.display="none",r.length?a?"button"===c?i.style.display="none":(n.style.display="none",infScroll.option({loadOnScroll:!1})):"button"!==c&&infScroll.option({loadOnScroll:!0}):"button"===c?i.style.display="inline-flex":n.style.display="inline-block"})),infScroll.on("append",(function(e,o,t,r){"function"==typeof woostifyQuickView&&woostifyQuickView(),"function"==typeof woostifyVariationSwatches&&woostifyVariationSwatches(),"function"==typeof woostifySwatchList&&woostifySwatchList(),"function"==typeof customQuantity&&customQuantity(),"function"==typeof woostifyCountdownUrgency&&woostifyCountdownUrgency(),"1"===woostify_woocommerce_general.is_active_wvs&&jQuery(".variations_form").each((function(){jQuery(this).wc_variation_form()}))})),infScroll.on("last",(function(e,o){"button"===c?i.style.display="none":n.style.display="none"})),"button"===c&&e&&i.addEventListener("click",(function(){infScroll.loadNextPage()}))}function cartSidebarOpen(){document.body.classList.contains("no-cart-sidebar")||document.body.classList.contains("disabled-sidebar-cart")||document.documentElement.classList.add("cart-sidebar-open")}function eventCartSidebarOpen(){document.body.classList.add("updating-cart"),document.body.classList.remove("cart-updated")}function eventCartSidebarClose(){document.body.classList.add("cart-updated"),document.body.classList.remove("updating-cart")}function shoppingBag(){var e=document.getElementsByClassName("shopping-bag-button"),o=document.getElementById("shop-cart-sidebar");if(e.length&&o&&!document.body.classList.contains("woocommerce-cart")&&!document.body.classList.contains("woocommerce-checkout"))for(var t=0,r=e.length;t<r;t++)e[t].addEventListener("click",(function(e){e.preventDefault(),cartSidebarOpen(),closeAll()}))}var woostifyConditionScrolling=function(){return!!(document.body.classList.contains("woocommerce-demo-store")&&-1===document.cookie.indexOf("store_notice")||(document.body.classList.contains("has-order-sticky-button")||document.body.classList.contains("has-proceed-sticky-button"))&&window.innerWidth<768)},woostifyStockQuantityProgressBar=function(){var e=document.querySelectorAll(".woostify-single-product-stock-progress-bar");e.length&&e.forEach((function(e,o){var t=e.getAttribute("data-number")||0;e.style.width=t+"%"}))},progressBarConfetti=function(e,o){if(woostify_woocommerce_general.shipping_threshold.enabled_shipping_threshold&&woostify_woocommerce_general.shipping_threshold.enabled_shipping_threshold_effect){var t=document.querySelectorAll(".free-shipping-progress-bar"),r=0;if(t.length&&(r=parseInt(t[0].getAttribute("data-progress"))),!e.length&&r>=100||o<r&&r>=100){let e=document.createElement("canvas");e.className="confetti-canvas",document.querySelector("#shop-cart-sidebar").appendChild(e);let o=confetti.create(e,{resize:!0});confettiSnowEffect(o,5e3),setTimeout((function(){o.reset(),document.querySelector(".confetti-canvas").remove()}),6e3)}o=r}},confettiSnowEffect=function(e,o){var t=Date.now()+o;function r(e,o){return Math.random()*(o-e)+e}!function n(){var c=t-Date.now(),i=Math.max(200,c/o*500);e({particleCount:1,startVelocity:0,ticks:i,origin:{x:Math.random(),y:0},colors:["#EF2964"],shapes:["circle","square"],gravity:1,scalar:r(.4,1),drift:r(-.4,.4)}),e({particleCount:1,startVelocity:0,ticks:i,origin:{x:Math.random(),y:0},colors:["#2D87B0"],shapes:["circle","square"],gravity:1,scalar:r(.4,1),drift:r(-.4,.4)}),c>0&&requestAnimationFrame(n)}()},woostifyQuantityMiniCart=function(){var e=document.querySelector(".shopping-bag-button .shop-cart-count, .boostify-count-product"),o=document.querySelectorAll(".mini-cart-product-infor");o.length&&e?(e.classList.remove("hide"),o.forEach((function(e,o){var t=e.querySelectorAll(".mini-cart-product-qty"),r=e.querySelector("input.qty"),n=r.value,c=Number(r.getAttribute("max")||-1),i=r.getAttribute("data-cart_item_key")||"",a=new Event("change"),s=new Event("quantity_updated");if(t.length&&r){o=0;for(var u=t.length;o<u;o++)t[o].onclick=function(){var e=Number(r.value||0),o=Number(r.getAttribute("step")||1),t=Number(r.getAttribute("min")||1),i=this.getAttribute("data-qty");if(e<t||isNaN(e))alert(woostify_woocommerce_general.qty_warning);else{if("minus"===i){if(e<=t||e-o<t||e<=o)return;var s=Number((e-o).toFixed(o.countDecimals()));r.value=s,n=s}else if("plus"===i){if(c>0&&(e>=c||e+o>c))return;s=Number((e+o).toFixed(o.countDecimals()));r.value=s,n=s}r.dispatchEvent(a)}};r.addEventListener("change",(function(){var e=Number(r.value||0);if(e<Number(r.getAttribute("min")||0)||isNaN(e)||c>0&&Number(e)>c)return alert(woostify_woocommerce_general.qty_warning),void(r.value=n);var o=new Request(woostify_woocommerce_general.ajax_url,{method:"POST",body:"action=update_quantity_in_mini_cart&ajax_nonce="+woostify_woocommerce_general.ajax_nonce+"&key="+i+"&qty="+e,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});document.documentElement.classList.add("mini-cart-updating"),fetch(o).then((function(e){if(200!==e.status)throw alert(woostify_woocommerce_general.ajax_error),console.log("Status Code: "+e.status),e;return e.json()})).then((function(e){if(e.success){jQuery(document.body).trigger("updated_wc_div");var o=e.data,t=document.querySelector(".cart-sidebar-content .woocommerce-mini-cart__total .woocommerce-Price-amount.amount"),r=document.querySelectorAll(".woostify-header-total-price, .boostify-subtotal"),n=document.querySelectorAll(".shop-cart-count, .boostify-count-product"),c=document.querySelectorAll(".free-shipping-progress-bar");if(t&&(t.innerHTML=o.total_price,r.length))for(var i=0,a=r.length;i<a;i++)r[i].innerHTML=o.total_price;if(n.length)for(var s=0,u=n.length;s<u;s++)n[s].innerHTML=o.item;if(c.length&&o.hasOwnProperty("free_shipping_threshold")){let e=c[0].getAttribute("data-progress");for(var l=0,d=c.length;l<d;l++)c[l].setAttribute("data-progress",o.free_shipping_threshold.percent),c[l].querySelector(".progress-bar-message").innerHTML=o.free_shipping_threshold.message,c[l].querySelector(".progress-percent")&&(c[l].querySelector(".progress-percent").innerHTML=o.free_shipping_threshold.percent+"%"),c[l].querySelector(".progress-bar-status")&&(c[l].querySelector(".progress-bar-status").style.minWidth=o.free_shipping_threshold.percent+"%",c[l].querySelector(".progress-bar-status").style.transitionDuration=".6s",100<=parseInt(o.free_shipping_threshold.percent)?c[l].querySelector(".progress-bar-status").classList.add("success"):c[l].querySelector(".progress-bar-status").classList.remove("success"));if(woostify_woocommerce_general.shipping_threshold.enabled_shipping_threshold&&woostify_woocommerce_general.shipping_threshold.enabled_shipping_threshold_effect&&e<100&&o.free_shipping_threshold.percent>=100){var m=document.createElement("canvas");m.className="confetti-canvas",document.querySelector("#shop-cart-sidebar").appendChild(m);var f=confetti.create(m,{resize:!0});confettiSnowEffect(f,5e3),setTimeout((function(){f.reset(),document.querySelector(".confetti-canvas").remove()}),6e3)}}}})).catch((function(e){console.log(e)})).finally((function(){document.documentElement.classList.remove("mini-cart-updating"),document.dispatchEvent(s)}))}))}}))):e&&e.classList.add("hide")},updateHeaderCartPrice=function(){var e=document.querySelector(".cart-sidebar-content .woocommerce-mini-cart__total .woocommerce-Price-amount.amount"),o="",t=document.querySelectorAll(".woostify-header-total-price");if(t.length){switch(woostify_woocommerce_general.currency_pos){case"left":o='<span class="woocommerce-Price-amount amount"><bdi><span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span>0</bdi></span>";break;case"right":o='<span class="woocommerce-Price-amount amount"><bdi>0<span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span></bdi></span>";break;case"left_space":o='<span class="woocommerce-Price-amount amount"><bdi><span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span>&nbsp;0</bdi></span>";break;case"right_space":o='<span class="woocommerce-Price-amount amount"><bdi>0&nbsp;<span class="woocommerce-Price-currencySymbol">'+woostify_woocommerce_general.currency_symbol+"</span></bdi></span>"}for(var r=0,n=t.length;r<n;r++)t[r].innerHTML=e?'<span class="woocommerce-Price-amount amount">'+e.innerHTML+"</span>":o}},woostifyProductsCarousel=function(e){var o=document.querySelectorAll(e);o.length&&o.forEach((function(e){if(!e.classList.contains("tns-slider")&&woostify_woocommerce_general.related_carousel_opts.hasOwnProperty("loop")){var o=woostify_woocommerce_general.related_carousel_opts;o.container=e;tns(o)}}))},woostiftToggleShow=function(e){var o=function(){e.style.display="block";var o=e.scrollHeight+"px";return e.style.display="",o}();e.classList.add("is-visible"),e.style.height=o,window.setTimeout((function(){e.style.height=""}),350)},woostiftToggleHide=function(e){e.style.height=e.scrollHeight+"px",window.setTimeout((function(){e.style.height="0"}),1),window.setTimeout((function(){e.classList.remove("is-visible")}),350)},woostifyToggleSlide=function(e,o){e.classList.contains("is-visible")?woostiftToggleHide(e):woostiftToggleShow(e)},productDataTabsAccordion=function(){var e=document.querySelectorAll(".woocommerce-tabs.layout-accordion");e.length&&e.forEach((function(e){var o=e.querySelectorAll(".woostify-accordion-title");if(o.length){var t=e.querySelectorAll(".woostify-tab-wrapper");o.forEach((function(e,o){e.onclick=function(){t.forEach((function(e,t){t!==o&&(e.classList.contains("active")&&woostifyToggleSlide(e.querySelector(".woocommerce-Tabs-panel")),e.classList.remove("active"))})),e.parentNode.classList.contains("active")?e.parentNode.classList.remove("active"):e.parentNode.classList.add("active");var r=nextSiblings(e);woostifyToggleSlide(r[0])}}))}}))},stickyOrderReview=function(){new WSYSticky("form.woocommerce-checkout .woostify-col .col-right-inner",{stickyContainer:"form.woocommerce-checkout",marginTop:96})},checkoutOrder=function(){var e=document.querySelector(".before-checkout");if(e){var o=e.offsetHeight,t=o,r=document.querySelector(".showlogin");document.querySelector("#coupons_list")?document.arrive(".sc-coupon",(function(){document.getElementById("coupons_list").style.display="block",setTimeout((function(){n(),jQuery(document).unbindArrive(".sc-coupon")}),1e3)})):n(),document.body.addEventListener("click",(function(e){if(e.target===r){var c=setInterval((function(){n()}),50);setTimeout((function(){o==t&&clearInterval(c)}),2e3)}}))}function n(){setTimeout((function(){var o=e.offsetHeight;document.querySelector("#checkout-spacer").style.minHeight=o+"px",e.classList.add("ready")}),200)}},woostifyGetUrl=function(e){return wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%",e)},woostifyShowNotice=function(e,o){o||(o=jQuery(".woocommerce-notices-wrapper:first")||jQuery(".cart-empty").closest(".woocommerce")||jQuery(".woocommerce-cart-form")),o.prepend(e)},ajaxCouponForm=function(){var e=document.querySelector("form.checkout_coupon");e&&e.addEventListener("submit",(function(e){e.preventDefault();var o=document.getElementById("coupon_code"),t=o.value,r={security:woostify_woocommerce_general.apply_coupon_nonce,coupon_code:t};jQuery.ajax({type:"POST",url:woostifyGetUrl("apply_coupon"),data:r,dataType:"html",success:function(e){jQuery(".woocommerce-error, .woocommerce-message, .woocommerce-NoticeGroup .woocommerce-info, .woocommerce-notices-wrapper .woocommerce-info").remove(),woostifyShowNotice(e,jQuery(".woostify-woocommerce-NoticeGroup")),jQuery(document.body).trigger("applied_coupon",[t])},complete:function(){o.value="",jQuery(document.body).trigger("update_checkout")}})}))},woostifyMoveNoticesInCheckoutPage=function(){var e=document.querySelectorAll(".woocommerce-notices-wrapper"),o=document.querySelectorAll(".woocommerce > .woocommerce-info"),t=document.querySelector(".woostify-woocommerce-NoticeGroup");if(e.length){var r=e[0],n=document.createElement("div");n.innerHTML=r.innerHTML,t.appendChild(n),r.remove()}o.length&&o.forEach((function(e){var o=e.cloneNode(!0),r=e.getAttribute("class");o.setAttribute("class",r),t.appendChild(o),e.remove()}))},woostifyCheckoutFormFieldAnimation=function(){var e=document.querySelectorAll("form.checkout .input-text, form.checkout_coupon .input-text"),o=document.querySelectorAll("form.checkout .form-row");e.length&&e.forEach((function(e){var o=e.closest(".form-row");o&&(""!==e.value&&o.classList.add("w-anim-wrap"),e.addEventListener("focus",(function(e){e.target.closest(".form-row").classList.add("w-anim-wrap")})),e.addEventListener("blur",(function(e){var o=e.target.closest(".form-row");""===e.target.value&&(o.classList.remove("w-anim-wrap"),o.classList.contains("validate-required")&&o.classList.add("woocommerce-invalid-required-field"))})))})),o.length&&o.forEach((function(e){var o=e.querySelector("label");if(null==o?e.classList.add("no-label"):o.classList.remove("screen-reader-text"),e.classList.contains("address-field")){var t=e.querySelectorAll("input"),r=e.querySelectorAll("span.select2");t.length&&t.length>0&&t.forEach((function(o){"hidden"===o.getAttribute("type")?e.classList.add("field-readonly"):e.classList.remove("field-readonly")})),r.length&&r.length>0&&(e.classList.add("w-anim-wrap"),e.classList.remove("field-readonly"))}}))};document.addEventListener("DOMContentLoaded",(function(){if(shoppingBag(),woostifyQuantityMiniCart(),woostifyProductsCarousel(".related.products ul.products"),woostifyProductsCarousel(".upsells.products ul.products"),woostifyProductsCarousel(".woostify-product-recently-viewed-section ul.products"),productDataTabsAccordion(),window.addEventListener("load",(function(){woostifyStockQuantityProgressBar()})),woostifyInfiniteScroll(!0),jQuery(document.body).on("adding_to_cart",(function(){eventCartSidebarOpen()})).on("added_to_cart",(function(e,o,t,r){if(woostifyQuantityMiniCart(),updateHeaderCartPrice(),eventCartSidebarClose(),closeAll(),r=void 0!==r&&r){if(r.removeClass("loading"),cartSidebarOpen(),o&&r.addClass("added"),o&&!wc_add_to_cart_params.is_cart&&0===r.parent().find(".added_to_cart").length){var n=get_svg_icon("shopping-cart-full");r.after('<a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+n+wc_add_to_cart_params.i18n_view_cart+"</a>")}jQuery(document.body).trigger("wc_cart_button_updated",[r])}})).on("removed_from_cart",(function(){woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("updated_cart_totals",(function(){"function"==typeof customQuantity&&customQuantity(),woostifyQuantityMiniCart(),updateHeaderCartPrice()})).on("wc_fragments_loaded wc_fragments_refreshed",(function(){if(woostifyQuantityMiniCart(),updateHeaderCartPrice(),woostify_woocommerce_general.shipping_threshold.enabled_shipping_threshold&&woostify_woocommerce_general.shipping_threshold.enabled_shipping_threshold_effect){var e=document.querySelectorAll(".free-shipping-progress-bar"),o=0;e.length&&(o=parseInt(e[0].getAttribute("data-progress"))),progressBarConfetti(e,o)}})).on("wc_cart_emptied",(function(){location.reload()})),jQuery(document.body).on("init_checkout updated_checkout payment_method_selected",(function(){"function"==typeof customQuantity&&customQuantity()})),document.body.classList.contains("checkout-layout-3")){var e=!1;woostifyCheckoutFormFieldAnimation(),woostifyMoveNoticesInCheckoutPage(),jQuery(document.body).on("updated_checkout",(function(e,o){setTimeout((function(){woostifyCheckoutFormFieldAnimation()}),100)})).on("init_checkout updated_checkout payment_method_selected",(function(e,o){jQuery(".woostify-woocommerce-NoticeGroup").html(""),jQuery("form.checkout").arrive("form.checkout_coupon",(function(e){ajaxCouponForm(),jQuery("form.checkout").unbindArrive("form.checkout_coupon")})),jQuery("form.checkout").arrive(".ajax-coupon-form",(function(e){jQuery(e).removeClass("loading"),jQuery(e).addClass("ready")})),jQuery("form.checkout").arrive(".woocommerce-NoticeGroup",(function(){jQuery(".woostify-woocommerce-NoticeGroup").append(jQuery(".woocommerce-NoticeGroup").html()),jQuery(".woocommerce-NoticeGroup").remove()})),jQuery(document).arrive(".woocommerce > .woocommerce-message",(function(e){var o=jQuery(e).clone();jQuery(".woostify-woocommerce-NoticeGroup").append(o),jQuery(e).remove()})),jQuery(document).arrive(".woocommerce > .woocommerce-info",(function(e){var o=jQuery(e).clone();jQuery(".woostify-woocommerce-NoticeGroup").append(o),jQuery(e).remove()}))})).on("applied_coupon",(function(){jQuery("form.checkout").arrive("form.checkout_coupon",(function(e){ajaxCouponForm(),jQuery("form.checkout").unbindArrive("form.checkout_coupon")}))})),jQuery("form.checkout").arrive("form.checkout_coupon",(function(e){ajaxCouponForm(),jQuery("form.checkout").unbindArrive("form.checkout_coupon")})),checkoutOrder(),stickyOrderReview(),window.onscroll=function(){e||(window.dispatchEvent(new Event("resize")),e=!0)}}"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){productDataTabsAccordion()}))}))}));